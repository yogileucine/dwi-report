{"uid":"147147e0942a5691","name":"Test to validate audit logs for deleting uploaded file during parameter execution","fullName":"tests.scenarios.job_audits.test_audits_of_parameter_execution.TestJobActionAuditLogs#test_validate_audit_logs_of_deleting_uploaded_file_during_parameter_execution","historyId":"953e3e813ae6a9fa09064b2840483bc5","time":{"start":1734111285492,"stop":1734111287988,"duration":2496},"description":"This test is to validate the audit logs for deleting uploaded file during parameter execution","descriptionHtml":"<p>This test is to validate the audit logs for deleting uploaded file during parameter execution</p>\n","status":"failed","statusMessage":"AssertionError: Audit logs for deleting uploaded file during parameter execution is not as expected.Expected :['Malini L (ID:L-process.publisher.03) created the Job', 'Malini L (ID:L-process.publisher.03) Assigned User(s) to Task(s) in the Job', 'Malini L (ID:L-process.publisher.03) started the Job', 'Malini L (ID:L-process.publisher.03) started the task \"Task-1.1\" as Task1.1 of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) uploaded file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) archived file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"']  Actual :['Malini L (ID:L-process.publisher.03) created the Job', 'Malini L (ID:L-process.publisher.03) Assigned User(s) to Task(s) in the Job', 'Malini L (ID:L-process.publisher.03) started the Job', 'Malini L (ID:L-process.publisher.03) started the task \"Task-1.1\" as Task1.1 of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) uploaded file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) stated reason \".\" to archive file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"']","statusTrace":"self = <test_audits_of_parameter_execution.TestJobActionAuditLogs object at 0x7326d4dcfd10>\nprocess_creation = {'calculation-1': 'calculation-1', 'date_param': 'date-1', 'date_time_param': 'date_time-1', 'display_name': 'Auto_object_type_display_name_296399', ...}\n\n    @allure.title(\"Test to validate audit logs for deleting uploaded file during parameter execution\")\n    @allure.description(\"This test is to validate the audit logs for deleting uploaded file during parameter execution\")\n    @allure.link(\"https://app.clickup.com/t/86cuua1mn\")\n    @pytest.mark.scenario\n    @pytest.mark.job_audits\n    @pytest.mark.validate_audit_logs_of_deleting_uploaded_file_during_parameter_execution\n    def test_validate_audit_logs_of_deleting_uploaded_file_during_parameter_execution(self, process_creation):\n        login(Env.get_env_data(\"QA_PUBLISHER_USERNAME_01\"), Env.get_env_data(\"QA_PUBLISHER_PASSWORD_01\"))\n        select_facility(const.FACILITY_NAME)\n        select_usecase(const.USECASE_NAME)\n        self.job_obj.create_job()\n        self.job_obj.assign_jobs_to_user(users_list=[Env.get_env_data(\"QA_PUBLISHER_USERNAME_01\")])\n        self.job_obj.start_job()\n        self.job_obj.start_task(task_name_01)\n        self.job_obj.execute_parameter(task_name_01, process_creation[\"file_upload_param\"], data=None)\n        self.job_obj.execute_parameter(task_name_01, process_creation[\"file_upload_param\"], data={\"archive\": True})\n        audit_logs = self.job_obj.fetch_job_audits_logs()[1]\n        if audit_logs != const.AUDIT_LOGS:\n>           raise AssertionError(\n                f\"Audit logs for deleting uploaded file during parameter execution is not as expected.Expected :{const.AUDIT_LOGS}  Actual :{audit_logs}\")\nE           AssertionError: Audit logs for deleting uploaded file during parameter execution is not as expected.Expected :['Malini L (ID:L-process.publisher.03) created the Job', 'Malini L (ID:L-process.publisher.03) Assigned User(s) to Task(s) in the Job', 'Malini L (ID:L-process.publisher.03) started the Job', 'Malini L (ID:L-process.publisher.03) started the task \"Task-1.1\" as Task1.1 of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) uploaded file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) archived file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"']  Actual :['Malini L (ID:L-process.publisher.03) created the Job', 'Malini L (ID:L-process.publisher.03) Assigned User(s) to Task(s) in the Job', 'Malini L (ID:L-process.publisher.03) started the Job', 'Malini L (ID:L-process.publisher.03) started the task \"Task-1.1\" as Task1.1 of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) uploaded file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"', 'Malini L (ID:L-process.publisher.03) stated reason \".\" to archive file Name: Image_capture (Description: Media for parameter execution) for parameter \"file_upload-1\" in Task1.1 \"Task-1.1\" of the stage \"Stage-1\"']\n\ntests/scenarios/job_audits/test_audits_of_parameter_execution.py:134: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"env_setup","time":{"start":1734094787340,"stop":1734094787340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"login_fixture","time":{"start":1734094787340,"stop":1734094787555,"duration":215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_facility","time":{"start":1734094787556,"stop":1734094787676,"duration":120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"select_usecase_fixture","time":{"start":1734094787676,"stop":1734094787784,"duration":108},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"username_to_user_id_mapping","time":{"start":1734094787784,"stop":1734094788037,"duration":253},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"process_creation","time":{"start":1734111260963,"stop":1734111276156,"duration":15193},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_audit_logs","time":{"start":1734111285491,"stop":1734111285491,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flush_param_counters","time":{"start":1734111285491,"stop":1734111285491,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"clear_audit_logs::0","time":{"start":1734111288002,"stop":1734111288002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flush_param_counters::0","time":{"start":1734111288002,"stop":1734111288002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"validate_audit_logs_of_deleting_uploaded_file_during_parameter_execution"},{"name":"tag","value":"job_audits"},{"name":"tag","value":"scenario"},{"name":"tag","value":"job"},{"name":"parentSuite","value":"tests.scenarios.job_audits"},{"name":"suite","value":"test_audits_of_parameter_execution"},{"name":"subSuite","value":"TestJobActionAuditLogs"},{"name":"host","value":"ubuntu"},{"name":"thread","value":"590668-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.scenarios.job_audits.test_audits_of_parameter_execution"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"https://app.clickup.com/t/86cuua1mn","url":"https://app.clickup.com/t/86cuua1mn","type":"link"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["validate_audit_logs_of_deleting_uploaded_file_during_parameter_execution","job_audits","scenario","job"]},"source":"147147e0942a5691.json","parameterValues":[]}